<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="0 0 520 1095"><defs><style type="text/css">svg{font-size:19px;font-family:sans-serif}.tick{stroke:#000;stroke-width:1;fill:none}.arrowLine{marker-end:url(#arrow)}.arrowLine,.bracket{stroke:#000;stroke-width:1.5;fill:none}.activeSpan{fill:#eee;stroke:#000}.animProgress{fill:#afeeee;stroke:#000;stroke-linejoin:bevel}.timelineLabel{font-size:17px}.startTimeLabel{text-anchor:start;font-style:italic;fill:red}.inputLabel{font-size:22px;fill:navy;text-anchor:middle}.tickLabel{font-size:.8em}.regionLabel,.tickLabel{text-anchor:middle}.stepLabel{font-size:22px}</style><style type="text/css">.blackArrowHead{fill:#000;stroke:none}</style><marker id="arrow" markerHeight="5" markerWidth="5" orient="auto" viewBox="0 -5 10 10"><path d="M0-5l10 5l-10 5z" class="blackArrowHead"/></marker><style type="text/css">.startTimeStar{stroke:red;stroke-linecap:round;stroke-width:2;fill:none}</style><path id="star" d="M-3.5-3.5l7 7M3.5-3.5l-7 7M0-5v10M-5 0h10" class="startTimeStar"/><style type="text/css">.xLine{stroke:#00f;stroke-linecap:square;stroke-width:3;fill:none}.xDottedBackingLine,.xDottedLine{stroke-linecap:round;stroke-width:3;stroke-dasharray:3 9;fill:none}.xDottedBackingLine{stroke:#fff}.xDottedLine{stroke:#00f;opacity:.2}</style><path id="x" d="M-5-5l10 10M5-5l-10 10" class="xLine"/></defs><path d="M310 80v1030" class="xDottedBackingLine"/><path d="M310 80v1030" class="xDottedLine"/><g><text class="stepLabel" transform="translate(0 25)">① Calculate the local time</text><g transform="translate(0 25) translate(130 60)"><text y="-15" class="timelineLabel">Local time</text><path d="M0 0h380" class="arrowLine"/><path d="M0-5v10m60-10v10m60-10v10m60-10v10m60-10v10m60-10v10m60-10v10" class="tick"/><g class="tickLabel"><text x="0" y="1.3em">0</text><text x="60" y="1.3em">1</text><text x="120" y="1.3em">2</text><text x="180" y="1.3em">3</text><text x="240" y="1.3em">4</text><text x="300" y="1.3em">5</text><text x="360" y="1.3em">6</text></g><use x="180" xlink:href="#x"/><text x="7" y="20" class="startTimeLabel">start<tspan x="7" dy="1em">time</tspan></text><use xlink:href="#star"/></g></g><g><text class="stepLabel" transform="translate(0 185)">② Calculate the active time</text><g><g transform="translate(0 185) translate(130 50) translate(60 0)"><text y="-15" class="timelineLabel">Active time</text><path d="M0 0h320" class="arrowLine"/><path d="M0-5v10m60-10v10m60-10v10m60-10v10m60-10v10m60-10v10" class="tick"/><g class="tickLabel"><text x="0" y="1.3em">0</text><text x="60" y="1.3em">1</text><text x="120" y="1.3em">2</text><text x="180" y="1.3em">3</text><text x="240" y="1.3em">4</text><text x="300" y="1.3em">5</text></g><use x="120" xlink:href="#x"/></g><g transform="translate(0 185) translate(130 50) translate(60 30)"><rect width="300" height="50" class="activeSpan"/><path d="M0 50l240-50v50l60-12.5v12.5z" class="animProgress"/></g><g><path d="M2 0s0 7 7 7h14s7 0 7 7c0 0 0-7 7-7h14s7 0 7-7" class="bracket" transform="translate(0 185) translate(130 50) translate(0 85)"/><text x="30" y="35" class="regionLabel" transform="translate(0 185) translate(130 50) translate(0 85)">start delay</text><path d="M62 0s0 7 7 7h134s7 0 7 7c0 0 0-7 7-7h134s7 0 7-7" class="bracket" transform="translate(0 185) translate(130 50) translate(0 85)"/><text x="210" y="35" class="regionLabel" transform="translate(0 185) translate(130 50) translate(0 85)">active duration</text></g></g></g><g><text class="stepLabel" transform="translate(0 415)">③ Calculate the overall progress</text><text x="80" y="80" class="inputLabel" transform="translate(0 415)">+ iteration<tspan x="80" dy="1em">start (0.75)</tspan></text><g transform="translate(0 415) translate(190 40)"><text y="-15" class="timelineLabel">Overall progress</text><path d="M0 0h320" class="arrowLine"/><path d="M0-5v10m60-10v10m60-10v10m60-10v10m60-10v10m60-10v10" class="tick"/><g class="tickLabel"><text x="0" y="1.3em">0.75</text><text x="60" y="1.3em">1</text><text x="120" y="1.3em">1.25</text><text x="180" y="1.3em">1.5</text><text x="240" y="1.3em">1.75</text><text x="300" y="1.3em">2</text></g><use x="120" xlink:href="#x"/><g transform="translate(0 30)"><rect width="300" height="50" class="activeSpan"/><path d="M0 50v-37.5l60-12.5v50l240-50v50z" class="animProgress"/></g></g></g><g><text class="stepLabel" transform="translate(0 595)">④ Calculate the simple iteration progress</text><g><g transform="translate(0 595) translate(190 50) translate(60 0)"><text y="-15" class="timelineLabel">Simple iteration progress</text><path d="M0 0h260" class="arrowLine"/><path d="M0-5v10m60-10v10m60-10v10m60-10v10m60-10v10" class="tick"/><g class="tickLabel"><text x="0" y="1.3em">0</text><text x="60" y="1.3em">0.25</text><text x="120" y="1.3em">0.5</text><text x="180" y="1.3em">0.75</text><text x="240" y="1.3em">1</text></g><use x="60" xlink:href="#x"/></g><g transform="translate(0 595) translate(190 50) translate(0 30)"><rect width="300" height="50" fill="#fff"/><g opacity=".3"><rect width="300" height="50" class="activeSpan"/><path d="M0 50v-37.5l60-12.5v50l240-50v50z" class="animProgress"/></g></g><g transform="translate(0 595) translate(190 50) translate(60 30)"><rect width="240" height="50" class="activeSpan"/><path d="M0 50l240-50v50z" class="animProgress"/></g></g></g><g><text class="stepLabel" transform="translate(0 775)">⑤ Calculate the directed progress</text><g transform="translate(0 775) translate(250 50)"><text y="-15" class="timelineLabel">Directed progress</text><path d="M0 0h260" class="arrowLine"/><path d="M0-5v10m60-10v10m60-10v10m60-10v10m60-10v10" class="tick"/><g class="tickLabel"><text x="0" y="1.3em">1</text><text x="60" y="1.3em">0.75</text><text x="120" y="1.3em">0.5</text><text x="180" y="1.3em">0.25</text><text x="240" y="1.3em">0</text></g><use x="60" xlink:href="#x"/><g transform="translate(0 30)"><rect width="240" height="50" class="activeSpan"/><path d="M0 50v-50l240 50z" class="animProgress"/></g></g></g><g><text class="stepLabel" transform="translate(0 955)">⑥ Calculate the transformed progress</text><g transform="translate(0 955) translate(250 50)"><text y="-15" class="timelineLabel">Transformed progress</text><path d="M0 0h260" class="arrowLine"/><path d="M0-5v10m24-10v10M50-5v10M100-5v10M240-5v10" class="tick"/><g class="tickLabel"><text x="0" y="1.3em">1</text><text x="24" y="1.3em">0.75</text><text x="50" y="1.3em">0.5</text><text x="100" y="1.3em">0.25</text><text x="240" y="1.3em">0</text></g><use x="60" xlink:href="#x"/><g transform="translate(0 30)"><rect width="240" height="50" class="activeSpan"/><path d="M0 50v-50c0 25 120 50 240 50z" class="animProgress"/></g></g></g></svg>